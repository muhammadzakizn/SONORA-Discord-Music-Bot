# SONORA v3.23.0 - Other Servers Member Control

**Release Date:** 2025-12-21

## Web Changes

### Admin Dashboard - Other Servers Enhancement

#### Member Server Controls
- **Member Badge**: Servers where user is a member (not admin/owner) display cyan "Member" badge
- **Bot Controls for Members**: Members can control bot playback (play, pause, skip, stop) in servers where SONORA is present
- **Control Notifications**: Real-time toast notifications showing who controlled the bot
  - Format: "{username} paused playback", "{username} skipped to next track"
  - Notifications broadcast via SocketIO to all connected users

#### Server Filtering  
- **Proper Intersection**: "Other Servers" now shows only servers where:
  1. User is a member (from Discord OAuth session)
  2. User is NOT admin/owner
  3. Bot SONORA is present in the server
- **Role Separation**: "Servers You Manage" for Owner/Admin, "Other Servers" for Member + SONORA present

### Technical Changes

#### Backend (`flask_app.py`)
- `/api/control` accepts `controlled_by` user info
- SocketIO events: `control_change` broadcast

#### Frontend (`guilds/page.tsx`)
- `isMember` prop for Member badge and controls
- SocketIO listener with toast notifications

#### API Client (`api.ts`)
- `control()` method accepts optional `controlledBy` parameter

---

### Fullscreen Lyrics Player - Queue Management

#### Renamed "Up Next" to "Queue"
- Panel header changed to "Queue" with track count badge

#### Interactive Queue Actions
- **Move Up (↑)** - Move track up in queue
- **Move Down (↓)** - Move track down in queue  
- **Remove (×)** - Remove track from queue
- Actions visible on hover with smooth transitions

#### Discord Notifications
- Queue changes notify Discord channel with user mention
- Format: "↕️ Moved **Track** to #X by @user"

## Previous Version
- v3.22.0
