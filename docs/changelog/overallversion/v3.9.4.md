# v3.9.4 - Auto-Delete Audio After Playback

**Release Date:** 2025-12-17

## Storage Optimization

### Auto-Delete All Audio Files After Playback
- SEMUA file audio sekarang langsung dihapus setelah selesai diputar
- Sebelumnya hanya file >100MB yang dihapus, sekarang SEMUA file dihapus
- Menghemat storage secara signifikan untuk server dengan kapasitas terbatas (Pterodactyl, VPS, dll)

### Technical Changes
- `ui/media_player.py`: Renamed `_cleanup_large_audio_file()` â†’ `_cleanup_audio_file()`, always deletes
- `services/audio/download_manager.py`: Updated `_cleanup_old_tracks()` to always delete
- `services/audio/playlist_cache.py`: Updated `_cleanup_track()` with file size logging

### How It Works
1. Audio file diunduh dari FTP cache atau YouTube/Spotify
2. File diputar oleh Discord bot
3. Setelah playback selesai, file langsung dihapus dari local storage
4. FTP cache tetap menyimpan file untuk penggunaan ulang di server lain

### Benefits
- Storage lebih hemat hingga ~90%
- Cocok untuk VPS/Pterodactyl dengan disk terbatas
- Tidak mempengaruhi FTP cache cloud

---

## Bug Fixes

### Playlist No Longer Interrupts Current Playback
- **BUG:** Ketika ada audio sedang diputar dan seseorang menambahkan Spotify playlist, audio langsung di-skip
- **FIX:** Sekarang playlist baru masuk ke queue tanpa mengganggu playback saat ini
- Fixed: `commands/play.py` - Tambah check `is_already_playing` di `on_first_track` callback

