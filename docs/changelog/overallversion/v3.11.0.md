# SONORA v3.11.0 - Beautiful-Lyrics WebGL Shaders

**Release Date:** 2025-12-18

## Overview
Implemented WebGL shader background inspired by beautiful-lyrics extension, with 4 rotating circles sampling blurred album art for mesmerizing animated background.

## New Features

### WebGL Animated Background
- **4 Rotating Circles**: Each sampling blurred album art texture
  - Background: center, slowest rotation (-0.25x speed)
  - Center: 75% opacity, medium rotation (0.5x)
  - Left: bottom-left corner, fastest (1.0x)
  - Right: top-right, reverse rotation (-0.75x)
- **GLSL Fragment Shader**: Custom alpha-blending for smooth color mixing
- **Album Art Integration**: Dynamically loads and blurs current track artwork

### Performance Optimizations
- **Mobile Detection**: Detects Android/iPhone/iPad
- **Frame Rate Limiting**: 30fps on mobile, 60fps on desktop
- **Texture Resolution**: 256px on mobile, 512px on desktop
- **GPU Settings**: Low-power preference on mobile, disabled antialiasing
- **Memory Management**: Proper cleanup on component unmount

## Technical Changes

### New Files
- `web/src/components/lyrics/WebGLBackground.tsx` - THREE.js WebGL component

### Modified Files
- `FullscreenLyricsPlayer.tsx` - Integrated WebGLBackground with CSS fallback

### Dependencies Added
- `three` - THREE.js for WebGL rendering
- `@react-three/fiber` - React wrapper for THREE.js
- `@types/three` - TypeScript definitions
