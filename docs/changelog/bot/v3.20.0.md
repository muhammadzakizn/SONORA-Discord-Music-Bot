# Bot Changelog - v3.20.0

## December 23, 2025

### Top 10 Tracks Database Support

Added database support for top tracks feature and annual auto-cleanup.

#### Database Changes
- Added `artwork_url` column to `play_history` table
- New methods: `get_monthly_top_tracks()`, `get_yearly_top_tracks()`
- New methods: `get_available_history_months()`, `get_history_summary()`
- New methods: `delete_track_from_history()`, `delete_monthly_history()`, `delete_yearly_history()`
- New method: `cleanup_old_history()` for annual auto-cleanup

#### Startup Changes
- Added `_annual_history_cleanup()` to bot setup
- Runs automatically in January to delete history older than 1 year
- Complies with Privacy Policy data retention requirements

#### Files Changed
- `database/db_manager.py` - New columns and methods
- `core/bot.py` - Annual cleanup on startup
- `ui/media_player.py` - Save artwork_url in play history
