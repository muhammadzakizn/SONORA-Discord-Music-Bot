# Web Dashboard Changelog - v3.7.0

## 2024-12-13

### Added
- **Multi-Factor Authentication (MFA)** - Bank-level security for Admin and Developer logins

### MFA Methods
- **Passkey (WebAuthn)** - Default, fingerprint/Face ID biometric
- **Authenticator App (TOTP)** - Google Authenticator, Authy support
- **OTP via Discord DM** - Existing verification method
- **OTP via Email** - New email verification option

### New API Endpoints
- `/api/mfa/passkey/register` - Passkey registration start
- `/api/mfa/passkey/register/complete` - Passkey registration verify
- `/api/mfa/passkey/authenticate` - Passkey login start
- `/api/mfa/passkey/authenticate/complete` - Passkey login verify
- `/api/mfa/totp/setup` - TOTP QR code generation
- `/api/mfa/totp/verify` - TOTP code verification

### Security Enhancements
- WebAuthn integration with @simplewebauthn
- TOTP implementation with otplib
- Rate limiting on OTP requests
- Challenge-response authentication
- Device fingerprinting support

### New Page
- `/mfa` - MFA method selection and verification

---

### Developer Dashboard Integration (Enhanced)

#### Console
- Connected to real `/api/admin/logs` with polling
- Real-time log display every 3 seconds

#### Messaging
- Connected to `/api/admin/broadcast`
- **NEW:** Server/channel dropdown selection (replacing manual ID input)
- Shows connected servers count dynamically

#### Bot Controls
- Connected to `/api/admin/shutdown`
- **NEW:** `/api/admin/bot/restart` - Restart bot
- **NEW:** `/api/admin/bot/pause` - Pause all playback
- **NEW:** `/api/admin/bot/resume` - Resume all playback
- **NEW:** `/api/admin/maintenance` - Maintenance mode toggle

#### Profile Settings
- Added link in developer dropdown menu

---

### User & Ban Management 

#### User Management
- **NEW:** `/api/admin/users` - List all users with ban status
- **NEW:** `/api/admin/users/:id/ban` - Ban/unban specific user
- Real-time user list from connected guilds

#### Ban Management
- **NEW:** `/api/admin/bans` - List all bans (users & servers)
- **NEW:** `/api/admin/bans/:id` - Remove specific ban
- Support for temporary and permanent bans


